"use strict";(self.webpackChunktechdocs=self.webpackChunktechdocs||[]).push([[4973],{6119:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>d,default:()=>p,frontMatter:()=>t,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"debian","title":"Debian & Ubuntu","description":"Compile & install deb package from source","source":"@site/docs/debian.md","sourceDirName":".","slug":"/debian","permalink":"/techdocs/docs/debian","draft":false,"unlisted":false,"editUrl":"https://github.com/lfir/techdocs/edit/devel/docs/debian.md","tags":[],"version":"current","lastUpdatedBy":"Leandro","lastUpdatedAt":1761395910000,"frontMatter":{"title":"Debian & Ubuntu"},"sidebar":"defaultSidebar","previous":{"title":"Dd","permalink":"/techdocs/docs/dd"},"next":{"title":"Docker & Docker Compose","permalink":"/techdocs/docs/docker"}}');var i=s(4848),l=s(8453);const t={title:"Debian & Ubuntu"},d=void 0,r={},c=[{value:"Compile &amp; install deb package from source",id:"compile--install-deb-package-from-source",level:2},{value:"Frequently used apt commands",id:"frequently-used-apt-commands",level:2},{value:"Install and remove packages",id:"install-and-remove-packages",level:3},{value:"Update the OS",id:"update-the-os",level:3},{value:"Remote graphical session with x11vnc",id:"remote-graphical-session-with-x11vnc",level:2},{value:"Sort installed packages by size with synaptic",id:"sort-installed-packages-by-size-with-synaptic",level:2},{value:"Turn on ufw and deny all incoming traffic",id:"turn-on-ufw-and-deny-all-incoming-traffic",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"compile--install-deb-package-from-source",children:"Compile & install deb package from source"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Get build dependencies available on the repositories\nsudo apt build-dep \n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Download sources\nsudo apt source pkgName\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Build package\nsudo apt source pkgName --compile\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install package\nsudo dpkg -i pkgName.deb\n"})}),"\n",(0,i.jsx)(n.h2,{id:"frequently-used-apt-commands",children:"Frequently used apt commands"}),"\n",(0,i.jsx)(n.h3,{id:"install-and-remove-packages",children:"Install and remove packages"}),"\n",(0,i.jsx)(n.p,{children:"Attempt to fix broken packages."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt -f install # or remove.\n"})}),"\n",(0,i.jsx)(n.p,{children:"Install package."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo apt install pkgName\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Can also be used to update only the given packages to the latest version."}),"\n",(0,i.jsxs)(n.li,{children:["To install a specific version use ",(0,i.jsx)(n.code,{children:"pkgName=pkgVersion"}),"."]}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:"Search for package."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"apt search pkgName # and/or keywords.\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["To get all available versions of a package use ",(0,i.jsx)(n.code,{children:"apt policy pkgName"}),"."]})}),"\n",(0,i.jsx)(n.p,{children:"Uninstall package."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo apt remove pkgName\n"})}),"\n",(0,i.jsx)(n.p,{children:"Uninstall pkg including config. files."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo apt purge pkgName\n"})}),"\n",(0,i.jsx)(n.h3,{id:"update-the-os",children:"Update the OS"}),"\n",(0,i.jsx)(n.p,{children:"Install every update available (incl. kernels)."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo apt dist-upgrade\n"})}),"\n",(0,i.jsx)(n.p,{children:"Install newer versions of the packages that don't replace or erase\npreviously installed ones."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo apt upgrade\n"})}),"\n",(0,i.jsx)(n.p,{children:"Update list of available packages and their versions."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo apt update\n"})}),"\n",(0,i.jsx)(n.h2,{id:"remote-graphical-session-with-x11vnc",children:"Remote graphical session with x11vnc"}),"\n",(0,i.jsx)(n.p,{children:"Connect to the server using SSH."}),"\n",(0,i.jsx)(n.p,{children:"Change to graphical runlevel if needed."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo systemctl isolate graphical.target\n"})}),"\n",(0,i.jsx)(n.p,{children:"Use one of the following options to forward the x11 session via vnc."}),"\n",(0,i.jsx)(n.p,{children:"Before user login."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo x11vnc -display :0 -auth /var/run/lightdm/root/:0\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After login from the ",(0,i.jsx)(n.strong,{children:"home"})," dir."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"x11vnc -display :0 -auth .Xauthority\n"})}),"\n",(0,i.jsx)(n.p,{children:"Access the server with a vnc client at serverIP:0."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Tested on 16.04 (with display manager ",(0,i.jsx)(n.strong,{children:"lightdm"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/LibVNC/x11vnc#tunnelling-x11vnc-via-ssh",children:"SSH tunnelling guide"}),"."]}),"\n"]})}),"\n",(0,i.jsx)(n.h2,{id:"sort-installed-packages-by-size-with-synaptic",children:"Sort installed packages by size with synaptic"}),"\n",(0,i.jsx)(n.p,{children:"Enable all size-related columns in preferences so they show up in the main window."}),"\n",(0,i.jsx)(n.h2,{id:"turn-on-ufw-and-deny-all-incoming-traffic",children:"Turn on ufw and deny all incoming traffic"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo ufw enable && sudo ufw default deny\n"})})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var a=s(6540);const i={},l=a.createContext(i);function t(e){const n=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),a.createElement(l.Provider,{value:n},e.children)}}}]);